{"version":3,"file":"static/js/812.b6a00be0.chunk.js","mappings":"iKAIMA,GAAeC,EAAAA,EAAAA,OAAK,kBAAM,sCAA6C,IACvEC,GAAUD,EAAAA,EAAAA,OAAK,kBAAM,sCAA+B,IACpDE,GAAqBF,EAAAA,EAAAA,OAAK,kBAAM,qCAAgD,IA2CpF,UAxCe,SAACG,GAEhB,IAAQC,GAAeC,EAAAA,EAAAA,MAAfD,WAERE,GAA4CC,EAAAA,EAAAA,UAC1C,CAAC,WAAYH,GACbI,EAAAA,IAFMC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAASL,EAATK,UAAWC,EAAON,EAAPM,QAKhC,GAAID,EACF,OAAUE,EAAAA,EAAAA,KAACC,EAAAA,SAAQ,CAACC,UAAUF,EAAAA,EAAAA,KAAA,MAAAG,SAAI,uBAAwBA,UAAEH,EAAAA,EAAAA,KAACZ,EAAO,MAGtE,GAAIW,EACF,OAAOC,EAAAA,EAAAA,KAAA,MAAAG,SAAKN,EAAMO,UAEpB,IAAMC,EAAST,EAAKU,QAGZC,EAAYF,EAAOG,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAQ,IAI/C,OAHAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAI/CP,EAAAA,EAAAA,KAACC,EAAAA,SAAQ,CAACC,UAAUF,EAAAA,EAAAA,KAAA,MAAAG,SAAI,yBAA0BA,UAE9CH,EAAAA,EAAAA,KAACd,EAAY,CACb6B,MAAM,kBACNV,OAAQA,EACRW,OAAQ,SAACC,GACP,OAAOjB,EAAAA,EAAAA,KAACX,EAAkB,CAAC4B,MAAOA,GACpC,EACAC,KAAK,GACL3B,WAAYA,EACZ4B,YAAavB,EAAKuB,eAK1B,C","sources":["pages/homePage.js"],"sourcesContent":["import React, { lazy, Suspense } from \"react\";\nimport { getMovies } from \"../api/tmdb-api\";\nimport { useQuery } from 'react-query';\nimport { useParams } from \"react-router-dom\";\nconst PageTemplate = lazy(() => import(\"../components/templateMovieListPage\"));\nconst Spinner = lazy(() => import(\"../components/spinner\"));\nconst AddToFavoritesIcon = lazy(() => import(\"../components/cardIcons/addToFavorites\"));\n\n\nconst HomePage = (props) => {\n\n  const { pagination } = useParams();\n\n  const { data, error, isLoading, isError } = useQuery(\n    [\"discover\", pagination],\n    getMovies\n  );\n\n  if (isLoading) {\n    return    <Suspense fallback={<h1>Loading Componment</h1>}>{<Spinner />}</Suspense>;\n  }\n\n  if (isError) {\n    return <h1>{error.message}</h1>\n  }  \n  const movies = data.results;\n\n    // Redundant, but necessary to avoid app crashing.\n    const favorites = movies.filter(m => m.favorite)\n    localStorage.setItem('favorites', JSON.stringify(favorites))\n    // const addToFavorites = (movieId) => true \n  \n    return (\n      <Suspense fallback={<h1>Loading PageTemplate</h1>}>\n        {\n          <PageTemplate\n          title=\"Discover Movies\"\n          movies={movies}\n          action={(movie) => {\n            return <AddToFavoritesIcon movie={movie} />\n          }}\n          page=\"\"\n          pagination={pagination}\n          total_pages={data.total_pages}\n        />\n        }\n      </Suspense>\n  );\n  };\n  export default HomePage;"],"names":["PageTemplate","lazy","Spinner","AddToFavoritesIcon","props","pagination","useParams","_useQuery","useQuery","getMovies","data","error","isLoading","isError","_jsx","Suspense","fallback","children","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","title","action","movie","page","total_pages"],"sourceRoot":""}